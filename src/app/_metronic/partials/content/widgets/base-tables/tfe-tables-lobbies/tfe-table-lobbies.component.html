<div class="card card-custom" [ngClass]="cssClass">
  <!-- Header -->
  <div class="card-header border-0 pt-5">
    <h3 class="card-title align-items-start flex-column">
      <span class="card-label font-weight-bolder text-dark">Lobbies</span>
      <span class="text-muted mt-3 font-weight-bold font-size-sm">
        There are currently {{totalAmountOfPlayers$ | async}} players online
      </span>
    </h3>
  </div>
  <!-- Body -->
  <div class="card-body pt-2 pb-0 mt-n3">
    <div class="tab-content mt-5">
      <div
        class="tab-pane fade active show"
        id="kt_tab_pane_6_1"
        role="tabpanel"
        aria-labelledby="kt_tab_pane_6_1"
      >
        <div class="table-responsive">
          <table class="table table-borderless table-vertical-center">
            <thead>
              <tr>
                <th class="p-0 w-50px"></th>
                <th class="p-0 min-w-200px"></th>
                <th class="p-0 min-w-150px"></th>
                <th class="p-0 min-w-150px"></th>
                <th class="p-0 min-w-40px"></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let lobby of lobbies$ | async">
                <td class="pl-0 py-5">
                  <img width="50px;" [src]="lobby.countryFlag | async"/>
                </td>
                <td class="pl-0">
                  <a
                          href="#"
                          class="text-dark font-weight-bolder text-hover-primary mb-1 font-size-lg"
                  >{{lobby.roomName}}</a>
                </td>
                <td class="">
                  <span class="text-dark font-weight-bold">
                    {{lobby.map}}
                  </span>
                </td>
                <td>
                  <div class="d-flex flex-column w-100 mr-2">
                    <div class="d-flex align-items-center justify-content-between mb-2">
                      <span class="text-muted mr-2 font-size-sm font-weight-bold">{{lobby.totalAmountOfPlayers}} / {{lobby.maxPlayer}}</span>
                      <span class="text-muted font-size-sm font-weight-bold">Players</span>
                    </div>
                    <div class="progress progress-xs w-100">
                      <div
                              class="progress-bar"
                              [ngClass]="'bg-' + (lobby.percentageFilled <= 50 ? 'success' : lobby.percentageFilled <= 80 ? 'warning' : 'danger')"
                              role="progressbar"
                              [ngStyle]="{width: lobby.percentageFilled + '%'}"
                              aria-valuenow="50"
                              aria-valuemin="0"
                              aria-valuemax="100"
                      ></div>
                    </div>
                  </div>
                </td>
                <td class="text-right pr-0">
                  <a [href]="lobby.steamStartUrl" class="btn btn-icon btn-light btn-sm">
                    <span
                            [inlineSVG]="
                        './assets/media/svg/icons/Navigation/Arrow-right.svg'
                      "
                            class="svg-icon svg-icon-md svg-icon-success"
                    ></span>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
